<div class="card mb-5 mt-5">
    <h5 class="card-header">Categorias</h5>
    <div class="card-body">
        <div class="row">
            <div class="col-sm-12">
                <table class="table table-striped">
                    <thead>
                        <tr>
                            <th scope="col">#</th>
                            <th scope="col">Nombre Categoria</th>
                            <th scope="col">Opciones</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let categoria of categorias;let i = index">
                            <th scope="row">{{i+1}}</th>
                            <td>{{categoria.nombreCategoria}}</td>
                            <td><i (click)="eliminarCategoria(categoria._id, categoria.nombreCategoria)" class="far fa-trash-alt">

                            </i>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                <i (click)="modalActualizar(categoria._id, modalActualizacion)" class="fas fa-upload"></i> &nbsp;&nbsp;
                            </td>
                        </tr>
                        <!-- <tr>
                            <th scope="row">2</th>
                            <td>Entretenimiento</td>
                            <td><i class="far fa-trash-alt"></i>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<i class="fas fa-upload"></i>&nbsp;&nbsp;</td>
                        </tr>
                        <tr>
                            <th scope="row">3</th>
                            <td>Comedia</td>
                            <td><i class="far fa-trash-alt"></i>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<i class="fas fa-upload"></i>&nbsp;&nbsp;</td>
                        </tr> -->
                    </tbody>
                </table>
            </div>
            <div class="col-sm-6 mt-5">
                <input class="form-control" [(ngModel)]="nombreCategoria">
            </div>
            <div class="col-sm-6 mt-5">
                <button class="btn btn-dark" (click)="nuevaCategoria()"> Agregar categoria</button>
            </div>

        </div>
    </div>
</div>

<div class="card mb-5 mt-5">
    <h5 class="card-header">Comentarios</h5>
    <div class="card-body">
        <div class="row">
            <div class="col-sm-12">
                <table class="table table-striped">
                    <thead>
                        <tr>
                            <th scope="col">#</th>
                            <th scope="col">Usuario</th>
                            <th scope="col">Comentario</th>
                            <th scope="col">Categoria</th>
                            <th scope="col">Opciones</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let comentario of comentarios | slice: (page-1) * pageSize : (page-1) * pageSize + pageSize; let i=index">
                            <th scope="row">{{i+1}}</th>
                            <td>{{comentario.usuario}}</td>
                            <td>{{comentario.comentario}}</td>
                            <td>{{comentario.categoria}}</td>
                            <td><i class="far fa-trash-alt" (click)="eliminarComentario(comentario._id, comentario.idPost)"></i>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<i class="fas fa-exclamation" (click)="marcarInapropiado(comentario.inapropiado, comentario.idPost, comentario._id)"></i>&nbsp;&nbsp;</td>
                        </tr>
                    </tbody>
                </table>
                <ngb-pagination [(page)]="page" [pageSize]="pageSize" [collectionSize]="comentarios.length"></ngb-pagination>
            </div>
        </div>

    </div>
</div>

<!--modal de actualizacion -->
<ng-template #modalActualizacion let-modal>
    <div class="modal-header">
        <h4 class="modal-title" id="modal-basic-title">Actualizar categoria</h4>
        <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
      <span aria-hidden="true">&times;</span>
    </button>
    </div>
    <div class="modal-body">
        <form>
            <div class="form-group">
                <label for="dateOfBirth">Nuevo nombre de la categoria:</label>
                <div class="input-group">
                    <input class="form-control" name="categoriaName" [(ngModel)]="nuevoNombre">
                </div>
            </div>
        </form>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-dark" (click)="modal.close('Save click')">Cancelar</button>
        <button type="button" class="btn btn-dark" (click)="actualizarCategoria()">Actualizar</button>
    </div>
</ng-template>
